[tool.poetry]
name = "memfault-cli"
version = "0.15.2"
description = "Memfault CLI tool"
homepage = "https://docs.memfault.com"
documentation = "https://docs.memfault.com/docs/ci/install-memfault-cli"
authors = ["Memfault Inc <hello@memfault.com>"]
readme = "README.md"

[tool.poetry.scripts]
memfault = 'memfault_cli.cli:main'

[tool.poetry.dependencies]
python = "^3.6"
Click = ">=7,<9"
requests = "^2.22.0"
pyelftools = ">=0.26,<=0.28"
mflt-build-id = "0.0.5"
# use the below for internal testing
# see https://python-poetry.org/docs/dependency-specification/#path-dependencies
# mflt-build-id = { path = "../../py-packages/mflt-build-id/", develop = false }

more_itertools = "^8.0.2"
pyaxmlparser = "^0.3.24"
tqdm = "^4.44.1"
urllib3 = ">=1.26.7"
# older version of importlib-metadata backport that supports Python 3.6
importlib-metadata = { version = "4.8.3", python = "<3.8" }
# dataclasses backport that supports Python 3.6
dataclasses = { version = "0.8", python = "<3.7" }

[tool.poetry.dev-dependencies]
faker = "^4"
invoke = "^1.4.1"
mflt-testing = { path = "../../py-packages/mflt-testing", develop = true }
pytest = "^6"
requests-mock = "^1.7.0"
tomlkit = "^0.8.0"

[tool.black]
line-length = 100
target-version = ['py38']
include = '\.pyi?$'

[tool.isort]
# Black Compatible Settings from
# https://black.readthedocs.io/en/stable/the_black_code_style.html?highlight=isort#how-black-wraps-lines
multi_line_output = 3
include_trailing_comma = true
force_grid_wrap = 0
use_parentheses = true
line_length = 100

[build-system]
requires = ["poetry>=0.12"]
build-backend = "poetry.masonry.api"

# set an empty pytest config section, to prevent pytest from walking up the
# directory tree trying to find a config file
[tool.pytest.ini_options]
