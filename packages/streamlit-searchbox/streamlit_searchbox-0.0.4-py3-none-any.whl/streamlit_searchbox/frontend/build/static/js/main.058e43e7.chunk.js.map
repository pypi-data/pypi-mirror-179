{"version":3,"sources":["magnifying-glass-solid.svg","styling.tsx","Searchbox.tsx","index.tsx"],"names":["_path","_excluded","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref","svgRef","title","props","createElement","viewBox","ref","d","ForwardRef","forwardRef","getStyledIcon","theme","fill","textColor","width","style","marginLeft","marginRight","padding","getStyleConfig","indicatorSeparator","styles","backgroundColor","fadedText60","menuList","input","color","singleValue","placeholder","control","isFocused","secondaryBackgroundColor","border","primaryColor","boxShadow","option","isDisabled","isSelected","undefined","cursor","Searchbox","state","search","focus","onSearchInput","_","setState","Streamlit","setComponentValue","onInputSelection","value","render","isSearchActive","components","DropdownIndicator","onInputChange","e","a","onChange","isSearchable","filterOption","__","menuIsOpen","options","args","onFocus","onBlur","StreamlitComponentBase","withStreamlitConnection","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.058e43e7.chunk.js","sourcesContent":["var _path;\nvar _excluded = [\"svgRef\", \"title\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport React from \"react\";\nvar SvgMagnifyingGlassSolid = function SvgMagnifyingGlassSolid(_ref) {\n  var svgRef = _ref.svgRef,\n    title = _ref.title,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 512 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z\"\n  })));\n};\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgMagnifyingGlassSolid, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/magnifying-glass-solid.5de43616.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\"\nimport {\n  CSSObjectWithLabel,\n  StylesConfig,\n  ControlProps,\n  OptionProps,\n} from \"react-select\"\n\nimport { ReactComponent as SearchIconSvg } from \"./magnifying-glass-solid.svg\"\n\n/**\n * load svg icon and fill with text color\n * @param theme\n * @returns\n */\nexport function getStyledIcon(theme: any) {\n  return (\n    <div>\n      <SearchIconSvg\n        fill={theme.textColor}\n        width={24}\n        style={{\n          marginLeft: \"6px\",\n          marginRight: \"6px\",\n          padding: \"4px\",\n        }}\n      />\n    </div>\n  )\n}\n\n/**\n * parameterize react-select style with streamlit data\n * @param theme\n * @returns\n */\nexport function getStyleConfig(theme: any): StylesConfig {\n  // searchbox and others, e.g. options window\n  const control = (styles: CSSObjectWithLabel, { isFocused }: ControlProps) => {\n    return {\n      ...styles,\n      backgroundColor: theme.secondaryBackgroundColor,\n      color: theme.secondaryBackgroundColor,\n      border: !isFocused ? \"0px\" : \"1px solid \" + theme.primaryColor,\n      boxShadow: \"none\",\n      \"&:hover\": {\n        border: !isFocused ? \"0px\" : \"1px solid \" + theme.primaryColor,\n      },\n    }\n  }\n\n  // single cell in option list\n  const option = (\n    styles: CSSObjectWithLabel,\n    { isDisabled, isFocused, isSelected }: OptionProps\n  ) => {\n    return {\n      ...styles,\n      backgroundColor: isDisabled\n        ? undefined\n        : isSelected\n        ? theme.secondaryBackgroundColor\n        : isFocused\n        ? theme.secondaryBackgroundColor\n        : theme.backgroundColor,\n      // option text\n      color: theme.textColor,\n      cursor: isDisabled ? \"not-allowed\" : \"default\",\n    }\n  }\n\n  return {\n    indicatorSeparator: (styles) => ({\n      ...styles,\n      backgroundColor: theme.fadedText60,\n    }),\n    // overall option list\n    menuList: (styles) => ({\n      ...styles,\n      backgroundColor: theme.backgroundColor,\n    }),\n    // filler text and icons\n    input: (styles) => ({ ...styles, color: theme.textColor }),\n    singleValue: (styles) => ({ ...styles, color: theme.textColor }),\n    placeholder: (styles) => ({ ...styles, color: theme.fadedText60 }),\n    // dynamic based on content\n    control: control,\n    option: option,\n  }\n}\n","import {\n  Streamlit,\n  StreamlitComponentBase,\n  withStreamlitConnection,\n} from \"streamlit-component-lib\"\nimport React, { ReactNode } from \"react\"\nimport Select from \"react-select\"\n\nimport { getStyleConfig, getStyledIcon } from \"./styling\"\n\ninterface State {\n  search: string\n  option: any\n  focus: boolean\n}\n\nclass Searchbox extends StreamlitComponentBase<State> {\n  public state = { search: \"\", option: null, focus: false }\n\n  // new keystroke on searchbox\n  private onSearchInput = (input: string, _: any): void => {\n    if (input.length > 0) {\n      this.setState({ search: input, option: null, focus: true }, () =>\n        Streamlit.setComponentValue(this.state)\n      )\n    }\n  }\n\n  // input was selected from dropdown\n  private onInputSelection = (option: any): void => {\n    this.setState(\n      {\n        search: \"\",\n        focus: false,\n        option: option.value,\n      },\n      () => Streamlit.setComponentValue(this.state)\n    )\n  }\n\n  /**\n   *\n   * @returns\n   */\n  public render = (): ReactNode => {\n    let isSearchActive = this.state.search !== \"\"\n\n    // always available, no typehint as missing relevant props\n    const streamlitTheme: any = this.props.theme!\n\n    return (\n      <Select\n        styles={getStyleConfig(this.props.theme!)}\n        components={{\n          DropdownIndicator: () => getStyledIcon(this.props.theme!),\n        }}\n        placeholder={\"Search ...\"}\n        onInputChange={(e, a) => this.onSearchInput(e, a)}\n        onChange={(e) => this.onInputSelection(e)}\n        isSearchable={true}\n        // show all options, filtering should be done in python\n        filterOption={(_, __) => true}\n        // always show dropdown\n        menuIsOpen={isSearchActive && this.state.focus}\n        options={isSearchActive ? this.props.args[\"options\"] : []}\n        onFocus={() => this.setState({ focus: true })}\n        onBlur={() => this.setState({ focus: false })}\n      />\n    )\n  }\n}\n\nexport default withStreamlitConnection(Searchbox)\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport Searchbox from \"./Searchbox\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <Searchbox />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n)\n"],"sourceRoot":""}