Metadata-Version: 2.1
Name: tokengen
Version: 0.0.1
Summary: A simple CLI utility for automating token generations with kubernetes.
Home-page: 
Author: Sharhan Alhassan
Author-email: sharhan.alhassan@tiacloud.co
Classifier: Programming Language :: Python :: 3.9
Classifier: License :: OSI Approved :: MIT License
Requires-Python: >=3.9
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: azure-common (==1.1.28)
Requires-Dist: azure-core (==1.26.1)
Requires-Dist: azure-identity (==1.12.0)
Requires-Dist: azure-keyvault-secrets (==4.6.0)
Requires-Dist: certifi (==2022.9.24)
Requires-Dist: cffi (==1.15.1)
Requires-Dist: charset-normalizer (==2.1.1)
Requires-Dist: cryptography (==38.0.4)
Requires-Dist: docker (==6.0.1)
Requires-Dist: idna (==3.4)
Requires-Dist: isodate (==0.6.1)
Requires-Dist: msal (==1.20.0)
Requires-Dist: msal-extensions (==1.0.0)
Requires-Dist: msrest (==0.7.1)
Requires-Dist: oauthlib (==3.2.2)
Requires-Dist: packaging (==21.3)
Requires-Dist: portalocker (==2.6.0)
Requires-Dist: pycparser (==2.21)
Requires-Dist: PyJWT (==2.6.0)
Requires-Dist: pyparsing (==3.0.9)
Requires-Dist: requests (==2.28.1)
Requires-Dist: requests-oauthlib (==1.3.1)
Requires-Dist: six (==1.16.0)
Requires-Dist: typing-extensions (==4.4.0)
Requires-Dist: urllib3 (==1.26.13)
Requires-Dist: websocket-client (==1.4.2)



# Configure Azure CLI from CLI
```sh
# Authenticate with Azure CLI Creds from Terminal -- Temporal
az login 

# Creating an Azure Active Directory Registered Application
az ad sp create-for-rbac --name aifi-tokengen --role Contributor --scopes /subscriptions/<subscription-id>

az ad sp create-for-rbac --name aifi-tokengen --role Contributor --scopes /subscriptions/46081af3-7258-44cd-899c-db7516f0a121

# Set Environment Variables with the Values
AZURE_CLIENT_ID	appId value from the generated JSON
AZURE_TENANT_ID	tenant value from the generated JSON
AZURE_CLIENT_SECRET	password value from the generated JSON
```

# Environment Setup
```sh
# create venv
python3 -m venv venv

# Activate the venv
source venv/bin/activate

# Install packages
pip install -r requirements.txt

# Switch to developer mode
python3 setup.py develop

# Run for helper commands
tokengen -h
```

## Why Python Secrets?
```sh
# From Python Docs
The secrets module is used for generating cryptographically strong random numbers suitable for managing data such as passwords, account authentication, security tokens, and related secrets.

In particularly, secrets should be used in preference to the default pseudo-random number generator in the random module, which is designed for modelling and simulation, not security or cryptography.
```
# Issues
## Performance Time Too High For Initial Pull

1. Take a look at the `registry.gitlab.com/aifi-ml/production/cloud-api/utils` image

- See if that can be changed to an alpine image for node


# Logging Improvement
```sh
- Exception if the secret doesnt exist
- Exception if the secret name is invalid
- Azure Authenticate with Env variables or kubernetes (hmm..!)

```
