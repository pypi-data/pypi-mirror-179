[build-system]
requires = [
    "setuptools",
    "setuptools-scm",
    "wheel",
]
build-backend = "setuptools.build_meta"

[project]
name = "pytest-aoc"
authors = [
    { name = "Joost Molenaar", email = "jjm@j0057.nl" },
]
license = { file = "LICENSE" }
description = "Downloads puzzle inputs for Advent of Code and synthesizes PyTest fixtures"
requires-python = ">=3.7"
classifiers = [
    "Framework :: Pytest",
    "License :: OSI Approved :: MIT License",
    "Programming Language :: Python :: 3",
    "Programming Language :: Python :: 3 :: Only",
    "Programming Language :: Python :: 3.7",
    "Programming Language :: Python :: 3.8",
    "Programming Language :: Python :: 3.9",
    "Programming Language :: Python :: 3.10",
    "Programming Language :: Python :: Implementation :: CPython",
    "Programming Language :: Python :: Implementation :: PyPy",
]
dependencies = [
    "requests",
]
dynamic = ["version", "readme"]

[project.urls]
Homepage = "https://github.com/j0057/pytest-aoc"
Source = "https://github.com/j0057/pytest-aoc"
Tracker = "https://github.com/j0057/pytest-aoc/issues"

[project.optional-dependencies]
dev = [
    "pip",
    "setuptools",
    "setuptools-scm",
    "build",
    "wheel",
    "twine",
    "tox",
    "tox-venv",
]
test = [
    "pytest",
    "pytest-cov",
    "pytest-freezegun",
    "pytest-responses",
    "pytest-mock",
]

#[tool.setuptools]
#packages = ["pytest_aoc"]

[project.entry-points]
pytest11 = { pytest-aoc = "pytest_aoc" }

[tool.setuptools.dynamic]
readme = { file = [ "README.md" ] }


[tool.setuptools_scm]
local_scheme = "no-local-version"

[tool.pytest.ini_options]
addopts = "-p pytester"

[tool.tox]
legacy_tox_ini = """
[tox]
minversion = 3.24.4
requires = tox-venv
envlist = py37,py38,py39,py310,pypy3
isolated_build = true

[testenv]
extras = test
commands =
    {envbindir}/python -m pytest --cov pytest_aoc --cov-branch --cov-report=html:{envlogdir}/htmlcov --cov-report=term-missing
"""
