import{d as I,u as L,r as S,C as N,c as n,a as O,n as P,X as U,D as B,E as M,b as f,o,e as u,w as a,g as e,H as V,i as r,I as w,f as d,M as X,J as q,O as z,L as A,U as E,N as H,z as J}from"./index.ae12d5bb.js";import{u as Q}from"./usePageTitle.85501b5e.js";const G=I({__name:"FlowRun",setup(Y){const i=L(),c=S("Logs"),p=N("id"),m=n(()=>{const l=["Logs","Task Runs","Subflow Runs","Parameters"];return E.xl||l.push("Details"),l}),_=O(),v=P(_.flowRuns.getFlowRun,[p],{interval:3e4}),s=n(()=>v.response),y=n(()=>{var l;return(l=s.value)==null?void 0:l.deploymentId}),R=U(y);B(p,(l,t)=>{l!==t&&(c.value="Logs")});const b=n(()=>{var l,t;return(t=(l=s.value)==null?void 0:l.parameters)!=null?t:{}}),k=n(()=>{var l,t;return(t=(l=R.value)==null?void 0:l.parameterOpenApiSchema)!=null?t:{}}),g=n(()=>H(b.value,k.value));function F(){i.push(J.flowRuns())}const h=n(()=>{var l;return(l=s.value)==null?void 0:l.stateType});M(h);const T=n(()=>s.value?`Flow Run: ${s.value.name}`:"Flow Run");return Q(T),(l,t)=>{const x=f("p-tabs"),C=f("p-layout-well");return o(),u(C,{class:"flow-run"},{header:a(()=>[e(s)?(o(),u(e(V),{key:0,"flow-run-id":e(s).id,onDelete:F},null,8,["flow-run-id"])):r("",!0)]),well:a(()=>[e(s)?(o(),u(e(w),{key:0,"flow-run":e(s),alternate:""},null,8,["flow-run"])):r("",!0)]),default:a(()=>[d(x,{selected:c.value,"onUpdate:selected":t[0]||(t[0]=D=>c.value=D),tabs:e(m)},{details:a(()=>[e(s)?(o(),u(e(w),{key:0,"flow-run":e(s)},null,8,["flow-run"])):r("",!0)]),logs:a(()=>[e(s)?(o(),u(e(X),{key:0,"flow-run":e(s)},null,8,["flow-run"])):r("",!0)]),"task-runs":a(()=>[e(s)?(o(),u(e(q),{key:0,"flow-run-id":e(s).id},null,8,["flow-run-id"])):r("",!0)]),"subflow-runs":a(()=>[e(s)?(o(),u(e(z),{key:0,"flow-run-id":e(s).id},null,8,["flow-run-id"])):r("",!0)]),parameters:a(()=>[d(e(A),{value:e(g)},null,8,["value"])]),_:1},8,["selected","tabs"])]),_:1})}}});export{G as default};
