import{t as O,A as P,q as Y,d as $,u as j,a as E,n as c,c as a,Z as J,r as I,b as k,o as s,e as u,w as i,f as t,g as e,K as L,h as b,x as M,F as h,T as Q,U as C,S as W,m as X,i as d,j as g,k as ee,$ as se,l as V,G as te,Y as oe,y as ne,p as le,s as ae,v as ue,z as re}from"./index.ae12d5bb.js";import{u as ce}from"./usePageTitle.85501b5e.js";class ie extends P(Y){}const de=O(new ie);const pe={class:"flow-runs__list"},fe={class:"flow-runs__list-controls"},_e=$({__name:"FlowRuns",setup(x){const S=j(),p=E(),R=c(p.flowRuns.getFlowRunsCount,[{}]),U=a(()=>R.executed),A=a(()=>R.response===0),{filter:f,hasFilters:D,startDate:B,endDate:N,name:m,sort:w}=J(),_={interval:3e4},y=c(p.flowRuns.getFlowRunsCount,[f],_),T=a(()=>y.response),H=c(de.getFlowRunHistory,[f],_),Z=a(()=>{var o;return(o=H.response)!=null?o:[]}),v=c(p.flowRuns.getFlowRuns,[f],_),F=a(()=>{var o;return(o=v.response)!=null?o:[]}),r=I([]);function q(){S.push(re.flowRuns())}const z=()=>{r.value=[],v.refresh(),y.refresh()};return ce("Flow Runs"),(o,n)=>{const G=k("p-button"),K=k("p-layout-default");return s(),u(K,{class:"flow-runs"},{header:i(()=>[t(e(L))]),default:i(()=>[e(U)?(s(),b(h,{key:0},[e(A)?(s(),u(e(M),{key:0})):(s(),b(h,{key:1},[t(e(Q)),e(C).md?(s(),u(e(W),X({key:0,history:e(Z)},{startDate:e(B),endDate:e(N)},{class:"flow-runs__chart"}),null,16,["history"])):d("",!0),g("div",pe,[g("div",fe,[t(e(ee),{count:e(T),class:"mr-auto"},null,8,["count"]),e(C).md?(s(),u(e(se),{key:0,modelValue:e(m),"onUpdate:modelValue":n[0]||(n[0]=l=>V(m)?m.value=l:null),placeholder:"Search by run name",label:"Search by run name"},null,8,["modelValue"])):d("",!0),t(e(te),{modelValue:e(w),"onUpdate:modelValue":n[1]||(n[1]=l=>V(w)?w.value=l:null)},null,8,["modelValue"]),t(e(oe),{selected:r.value,onDelete:z},null,8,["selected"])]),t(e(ne),{selected:r.value,"onUpdate:selected":n[2]||(n[2]=l=>r.value=l),"flow-runs":e(F)},null,8,["selected","flow-runs"]),e(F).length?d("",!0):(s(),u(e(le),{key:0},ae({_:2},[e(D)?{name:"actions",fn:i(()=>[t(G,{size:"sm",secondary:"",onClick:q},{default:i(()=>[ue(" Clear Filters ")]),_:1})]),key:"0"}:void 0]),1024))])],64))],64)):d("",!0)]),_:1})}}});export{_e as default};
