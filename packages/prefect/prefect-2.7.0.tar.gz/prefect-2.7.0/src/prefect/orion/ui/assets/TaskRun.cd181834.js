import{d as h,u as y,C,a as x,c as a,R as c,E as D,b as p,g as t,o as F,e as N,w as n,f as u,V as S,W as i,_ as V,L as A,i as B,U as L,z as U}from"./index.ae12d5bb.js";import{u as z}from"./usePageTitle.85501b5e.js";const W=h({__name:"TaskRun",setup(E){const k=y(),l=C("id"),r=x(),d=a(()=>{const s=["Logs","Task Inputs"];return L.xl||s.push("Details"),s}),f=a(()=>l.value?[l.value]:null),R=c(r.taskRuns.getTaskRun,f,{interval:3e4}),e=a(()=>R.response),o=a(()=>{var s;return(s=e.value)==null?void 0:s.flowRunId}),_=a(()=>o.value?[o.value]:null),v=c(r.flowRuns.getFlowRun,_),m=a(()=>{var s;return(s=e.value)!=null&&s.taskInputs?JSON.stringify(e.value.taskInputs,void 0,2):"{}"});function w(){v.refresh(),k.push(U.flowRun(o.value))}const g=a(()=>{var s;return(s=e.value)==null?void 0:s.stateType});D(g);const T=a(()=>e.value?`Task Run: ${e.value.name}`:"Task Run");return z(T),(s,J)=>{const b=p("p-tabs"),I=p("p-layout-well");return t(e)?(F(),N(I,{key:0,class:"task-run"},{header:n(()=>[u(t(S),{"task-run-id":t(e).id,onDelete:w},null,8,["task-run-id"])]),well:n(()=>[u(t(i),{alternate:"","task-run":t(e)},null,8,["task-run"])]),default:n(()=>[u(b,{tabs:t(d)},{details:n(()=>[u(t(i),{"task-run":t(e)},null,8,["task-run"])]),logs:n(()=>[u(t(V),{"task-run":t(e)},null,8,["task-run"])]),"task-inputs":n(()=>[u(t(A),{value:t(m)},null,8,["value"])]),_:1},8,["tabs"])]),_:1})):B("",!0)}}});export{W as default};
