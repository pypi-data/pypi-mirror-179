{% from 'navigation.tmpl' import match %}
  {% set status, gbd_status, status_date = DATABASE.SIXTER | get_status_and_date %}
brand:
  type: EMBLEM
  kind:
    - {{DATABASE.SIXTER.NATURE.TYPE | translate_kind}}
  markFeature: Undefined
  gbdStatus: {{ gbd_status }}
  officeStatus: {{ status }}
  statusDate: {{ status_date }}
  registrationOfficeCode: {{DATABASE.SIXTER.STATE_ORG }}
  designatedCountries:
    - {{DATABASE.SIXTER.STATE_ORG }}
  st13: {{ DATABASE.SIXTER | st13_sixter }}
  applicationNumber: {{ DATABASE.SIXTER | reg_number }}
  registrationNumber: {{ DATABASE.SIXTER | reg_number }}
  publicationDate: {{ DATABASE.SIXTER._DATE | convertdate('%Y%m%d') }}
  wordMarkSpecification:
    markVerbalElement:
      {% call(desc) match('DETAILSGR.DETAIL', DATABASE.SIXTER) %}
      - text: {{ desc.TEXT }}
        languageCode: {{ desc.TEXT._LANG | lower }}
      {% endcall %}

  markImageDetails:
    - name: {{DATABASE.SIXTER.PROTECTED_SIGN.IMAGE }}
      {% if DATABASE.SIXTER.VIENNA %}
      classification:
        kind: Vienna #mostly
        version: 7 #mostly
        code:
          {% call(desc) match('VIENNA.VIECLA', DATABASE.SIXTER) %}
            - {{ desc | split_vienna }}
          {% endcall %}
      {% endif %}

  {% call(unclassified) match('NATURE.GOODSGR.GOODS', DATABASE.SIXTER) %}
  goodsServicesUnclassified:
    {{ unclassified._LANG| lower |  field_name }}:
      - {{ unclassified }}
  {% endcall %}
  applicants:
    {% call(Applicant) match('ORGANIZATION', DATABASE.SIXTER) %}
    - {% call(nameline) match('NAME', Applicant) %}
      fullName:
        - text: {{ nameline.__value}}
          languageCode: {{ nameline._LANG | lower }}
        {% endcall %}
      {% if Applicant.ADDRESS %}
      fullAddress:
        - text: {{ Applicant | get_addr }}
          languageCode: en
      {% endif %}
      countryCode: {{ Applicant.COUNTRY }}
    {% endcall %}

  representatives:
    {% call(Applicant) match('ORGANIZATION', DATABASE.SIXTER) %}
    - {% call(nameline) match('NAME', Applicant) %}
      fullName:
        - text: {{ nameline.__value}}
          languageCode: {{ nameline._LANG | lower }}
        {% endcall %}
      {% if Applicant.ADDRESS %}
      fullAddress:
        - text: {{ Applicant | get_addr }}
          languageCode: en
      {% endif %}
      countryCode: {{ Applicant.COUNTRY }}
    {% endcall %}

  extra:
    objections:
      {% call(obj) match('OBJECTIONS', DATABASE.SIXTER) %}
      - state: {{obj.STATE}}
        date: {{ obj.DATE | convertdate('%Y%m%d') }}
      {% endcall %}
    circulars:
      {% call(obj) match('CIRCULAR', DATABASE.SIXTER) %}
      - number: {{obj.NUMBER}}
        date: {{ obj.DATE | convertdate('%Y%m%d') }}
      {% endcall %}
